import{u as r,d as n}from"./login-540fea95.js";import{h as a,d as u}from"./index-bb78072d.js";function m(t){const s=r(),{permissions:e}=s;return!!e.find(i=>i.includes(t))}function c(t){return a.post({url:"/users/list",data:t})}function f(t){return a.delete({url:`/users/${t}`})}function d(t){return a.post({url:"/users",data:t})}function l(t,s){return a.patch({url:`/users/${t}`,data:s})}function p(t,s){return a.post({url:`/${t}/list`,data:s})}function L(t,s){return a.delete({url:`/${t}/${s}`})}function h(t,s){return a.post({url:`/${t}`,data:s})}function y(t,s,e){return a.patch({url:`/${t}/${s}`,data:e})}const A=u("system",{state:()=>({usersList:[],usersTotalCount:0,pageList:[],pageTotalCount:0}),actions:{async postUsersListAction(t){const s=await c(t),{totalCount:e,list:i}=s.data;this.usersTotalCount=e,this.usersList=i},async deleteUserById(t){await f(t),this.postUsersListAction({offset:0,size:10})},async newUserDataAction(t){await d(t),this.postUsersListAction({offset:0,size:10})},async updataUserAction(t,s){await l(t,s),this.postUsersListAction({offset:0,size:10})},async postPageListAction(t,s){const e=await p(t,s),{totalCount:i,list:o}=e.data;this.pageList=o,this.pageTotalCount=i},async deletePageListByIdAction(t,s){await L(t,s),this.postPageListAction(t,{offset:0,size:10}),n().fetchEntireDataAction()},async newPageDataAction(t,s){await h(t,s),this.postPageListAction(t,{offset:0,size:10}),n().fetchEntireDataAction()},async updataPageAction(t,s,e){await y(t,s,e),this.postPageListAction(t,{offset:0,size:10}),n().fetchEntireDataAction()}}}),w=A;export{w as a,m as u};
